(()=>{"use strict";const e=window.wp.blocks,l=window.React,t=window.wp.i18n,n=window.wp.blockEditor,a=window.wp.components,o=window.wp.element,r=(0,o.createElement)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:24,height:24},(0,o.createElement)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})),i=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"fgb/fluid-group","version":"1.0.0","title":"Fluid Gradient Group","category":"design","icon":"slides","description":"A container block with optional WebGL fluid dynamics background.","keywords":["fluid","gradient","animation","group","container","webgl"],"textdomain":"fluid-gradient-block","attributes":{"enableFluid":{"type":"boolean","default":false},"fluidSettings":{"type":"object","default":{"preset":"default","simResolution":128,"dyeResolution":1024,"densityDissipation":0.97,"velocityDissipation":0.98,"pressure":0.8,"curl":30,"splatRadius":0.25,"splatForce":6000,"projectionDistance":1,"fadeSpeed":1,"calmDown":false,"calmDownDelay":2000,"calmDownStrength":0.9,"bloom":true,"bloomIntensity":0.8,"bloomThreshold":0.6,"colorSaturation":1,"colorBrightness":0.15,"saturationBoost":1,"fixedColor":"#ff00ff","colorChangeDistance":0,"colorMode":"rainbow","hueMin":0,"hueMax":360,"gradientSpeed":0.5,"paletteColors":["#ff0000","#00ff00","#0000ff"],"rainbowMode":true,"preventOverblending":false,"maxColorIntensity":1,"darkMode":false,"hideCursor":false,"blendMode":"normal","negativeBloom":false,"elementInteraction":{"enabled":false,"selectors":"","trackScroll":false,"mode":"hardCorner","softEdgeRadius":20,"forceFieldStrength":50,"forceFieldRadius":80,"attractFieldStrength":50,"attractFieldRadius":80,"turbulenceIntensity":30,"turbulenceScale":50,"affectNewSplats":true,"affectExistingFluid":false,"edgeGlow":false,"edgeGlowIntensity":0.5,"edgeGlowDistance":15,"edgeGlowMatchFluid":true,"edgeGlowColor":"#ffffff"}}},"tagName":{"type":"string","default":"div"},"minHeight":{"type":"string"},"backgroundColor":{"type":"string"}},"supports":{"anchor":true,"align":["wide","full"],"html":false,"background":{"backgroundImage":true,"backgroundSize":true},"color":{"gradients":true,"heading":true,"button":true,"link":true,"text":true,"background":true},"spacing":{"margin":true,"padding":true,"blockGap":true},"dimensions":{"minHeight":true},"position":{"sticky":true},"typography":{"fontSize":true,"lineHeight":true},"layout":{"allowSizingOnChildren":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true}},"editorScript":"file:./index.js","editorStyle":"file:./editor.css","style":"file:./style.css","viewScript":"file:./view.js"}');(0,e.registerBlockType)(i.name,{...i,edit:function({attributes:e,setAttributes:i}){var d,c,u,s,g,m,f,b,h,p,_,E,v,C;const{enableFluid:R,fluidSettings:k}=e,[w,S]=(0,o.useState)(!1),T=(0,o.useRef)(null),x=(0,o.useRef)(null),F=(e,l)=>{i({fluidSettings:{...k,[e]:l}})},y=(e,l)=>{i({fluidSettings:{...k,elementInteraction:{...k.elementInteraction,[e]:l}}})},D=k.elementInteraction||{};(0,o.useEffect)(()=>{let e,l=null;return w&&R&&T.current&&(e=setTimeout(()=>{T.current&&(l=function(e,l,t){var n,a,o,r,i,d,c,u,s,g,m,f,b,h,p,_,E;const v={SIM_RESOLUTION:Math.min(null!==(n=l.simResolution)&&void 0!==n?n:128,64),DYE_RESOLUTION:Math.min(null!==(a=l.dyeResolution)&&void 0!==a?a:1024,512),DENSITY_DISSIPATION:null!==(o=l.densityDissipation)&&void 0!==o?o:.97,VELOCITY_DISSIPATION:null!==(r=l.velocityDissipation)&&void 0!==r?r:.98,PRESSURE:null!==(i=l.pressure)&&void 0!==i?i:.8,PRESSURE_ITERATIONS:10,CURL:null!==(d=l.curl)&&void 0!==d?d:30,SPLAT_RADIUS:null!==(c=l.splatRadius)&&void 0!==c?c:.25,SPLAT_FORCE:null!==(u=l.splatForce)&&void 0!==u?u:6e3,PROJECTION_DISTANCE:null!==(s=l.projectionDistance)&&void 0!==s?s:1,FADE_SPEED:null!==(g=l.fadeSpeed)&&void 0!==g?g:1,BLOOM:!1,BLOOM_INTENSITY:0,BLOOM_THRESHOLD:.6},C={saturation:null!==(m=l.colorSaturation)&&void 0!==m?m:1,brightness:null!==(f=l.colorBrightness)&&void 0!==f?f:.15,saturationBoost:null!==(b=l.saturationBoost)&&void 0!==b?b:1,fixedColor:null!==(h=l.fixedColor)&&void 0!==h?h:"#ff00ff",rainbowMode:!1!==l.rainbowMode,preventOverblending:null!==(p=l.preventOverblending)&&void 0!==p&&p,maxColorIntensity:null!==(_=l.maxColorIntensity)&&void 0!==_?_:1,darkMode:null!==(E=l.darkMode)&&void 0!==E&&E},R={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1};let k=e.getContext("webgl2",R);const w=!!k;if(w||(k=e.getContext("webgl",R)||e.getContext("experimental-webgl",R)),!k)return void console.error("WebGL not supported");const S=e.parentElement,T=e.getBoundingClientRect();let x,F,y,D,M=T.width||S?.offsetWidth||S?.clientWidth||400,A=T.height||S?.offsetHeight||S?.clientHeight||200;if(M=Math.max(M,200),A=Math.max(A,100),e.width=M,e.height=A,console.log("Editor preview canvas:",M,"x",A),w)k.getExtension("EXT_color_buffer_float"),x=k.HALF_FLOAT,F={internalFormat:k.RGBA16F,format:k.RGBA},y={internalFormat:k.RG16F,format:k.RG},D={internalFormat:k.R16F,format:k.RED};else{const e=k.getExtension("OES_texture_half_float");x=e?e.HALF_FLOAT_OES:k.UNSIGNED_BYTE,F=y=D={internalFormat:k.RGBA,format:k.RGBA}}k.clearColor(0,0,0,1);const B="\n        precision highp float;\n        attribute vec2 aPosition;\n        varying vec2 vUv;\n        void main() {\n            vUv = aPosition * 0.5 + 0.5;\n            gl_Position = vec4(aPosition, 0.0, 1.0);\n        }\n    ";function I(e,l){const t=k.createShader(e);return k.shaderSource(t,l),k.compileShader(t),k.getShaderParameter(t,k.COMPILE_STATUS)?t:(console.error("Shader error:",k.getShaderInfoLog(t)),null)}function O(e,l){const t=I(k.VERTEX_SHADER,e),n=I(k.FRAGMENT_SHADER,l);if(!t||!n)return null;const a=k.createProgram();k.attachShader(a,t),k.attachShader(a,n),k.linkProgram(a);const o={},r=k.getProgramParameter(a,k.ACTIVE_UNIFORMS);for(let e=0;e<r;e++){const l=k.getActiveUniform(a,e).name;o[l]=k.getUniformLocation(a,l)}return{program:a,uniforms:o}}const P=O(B,"\n        precision highp float;\n        varying vec2 vUv;\n        uniform sampler2D uTexture;\n        void main() {\n            vec3 c = texture2D(uTexture, vUv).rgb;\n            float a = max(c.r, max(c.g, c.b));\n            gl_FragColor = vec4(c, a);\n        }\n    "),N=O(B,"\n        precision highp float;\n        varying vec2 vUv;\n        uniform sampler2D uTarget;\n        uniform float aspectRatio;\n        uniform vec3 color;\n        uniform vec2 point;\n        uniform float radius;\n        void main() {\n            vec2 p = vUv - point.xy;\n            p.x *= aspectRatio;\n            vec3 splat = exp(-dot(p, p) / radius) * color;\n            vec3 base = texture2D(uTarget, vUv).xyz;\n            gl_FragColor = vec4(base + splat, 1.0);\n        }\n    "),U=O(B,"\n        precision mediump float;\n        varying vec2 vUv;\n        uniform sampler2D uTexture;\n        uniform float value;\n        void main() {\n            gl_FragColor = value * texture2D(uTexture, vUv);\n        }\n    ");if(!P||!N||!U)return;const L=k.createBuffer();k.bindBuffer(k.ARRAY_BUFFER,L),k.bufferData(k.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),k.STATIC_DRAW);const G=k.createBuffer();function H(e,l){const t=k.createTexture();k.bindTexture(k.TEXTURE_2D,t),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE),k.texImage2D(k.TEXTURE_2D,0,F.internalFormat,e,l,0,F.format,x,null);const n=k.createFramebuffer();return k.bindFramebuffer(k.FRAMEBUFFER,n),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,t,0),k.clear(k.COLOR_BUFFER_BIT),{texture:t,fbo:n,width:e,height:l,attach:e=>(k.activeTexture(k.TEXTURE0+e),k.bindTexture(k.TEXTURE_2D,t),e)}}k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,G),k.bufferData(k.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),k.STATIC_DRAW);const X=Math.min(v.DYE_RESOLUTION,e.width,e.height),Y=function(e,l){let t=H(e,l),n=H(e,l);return{get read(){return t},get write(){return n},swap(){const e=t;t=n,n=e}}}(X,X);function j(e){e?(k.viewport(0,0,e.width,e.height),k.bindFramebuffer(k.FRAMEBUFFER,e.fbo)):(k.viewport(0,0,k.drawingBufferWidth,k.drawingBufferHeight),k.bindFramebuffer(k.FRAMEBUFFER,null)),k.bindBuffer(k.ARRAY_BUFFER,L),k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,G),k.enableVertexAttribArray(0),k.vertexAttribPointer(0,2,k.FLOAT,!1,0,0),k.drawElements(k.TRIANGLES,6,k.UNSIGNED_SHORT,0)}function W(){let e;if(C.rainbowMode){const l=Math.min(C.saturation*C.saturationBoost,1);e=function(e,l,t){let n,a,o;const r=Math.floor(6*e),i=6*e-r,d=t*(1-l),c=t*(1-i*l),u=t*(1-(1-i)*l);switch(r%6){case 0:n=t,a=u,o=d;break;case 1:n=c,a=t,o=d;break;case 2:n=d,a=t,o=u;break;case 3:n=d,a=c,o=t;break;case 4:n=u,a=d,o=t;break;case 5:n=t,a=d,o=c}return{r:n,g:a,b:o}}(Math.random(),l,1)}else e=function(e){const l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return l?{r:parseInt(l[1],16)/255,g:parseInt(l[2],16)/255,b:parseInt(l[3],16)/255}:{r:1,g:0,b:1}}(C.fixedColor);if(e.r*=C.brightness,e.g*=C.brightness,e.b*=C.brightness,C.preventOverblending){const l=C.maxColorIntensity;e.r=Math.min(e.r,l),e.g=Math.min(e.g,l),e.b=Math.min(e.b,l)}return C.darkMode&&(e.r=-e.r,e.g=-e.g,e.b=-e.b),e}let z={x:0,y:0,px:0,py:0,down:!1};e.addEventListener("mousemove",l=>{const t=e.getBoundingClientRect();z.px=z.x,z.py=z.y,z.x=(l.clientX-t.left)/t.width,z.y=1-(l.clientY-t.top)/t.height;const n=(z.x-z.px)*v.SPLAT_FORCE*v.PROJECTION_DISTANCE,a=(z.y-z.py)*v.SPLAT_FORCE*v.PROJECTION_DISTANCE;var o,r,i;(Math.abs(n)>.001||Math.abs(a)>.001)&&(o=z.x,r=z.y,i=W(),k.useProgram(N.program),k.uniform1i(N.uniforms.uTarget,Y.read.attach(0)),k.uniform1f(N.uniforms.aspectRatio,e.width/e.height),k.uniform2f(N.uniforms.point,o,r),k.uniform3f(N.uniforms.color,i.r,i.g,i.b),k.uniform1f(N.uniforms.radius,v.SPLAT_RADIUS/100),j(Y.write),Y.swap())}),function e(){k.useProgram(U.program),k.uniform1i(U.uniforms.uTexture,Y.read.attach(0)),k.uniform1f(U.uniforms.value,v.DENSITY_DISSIPATION/v.FADE_SPEED),j(Y.write),Y.swap(),k.useProgram(P.program),k.uniform1i(P.uniforms.uTexture,Y.read.attach(0)),j(null),t.current=requestAnimationFrame(e)}()}(T.current,k,x))},100)),()=>{e&&clearTimeout(e),x.current&&(cancelAnimationFrame(x.current),x.current=null),l&&l()}},[w,R]);const M=(0,n.useBlockProps)({className:"fgb-fluid-group "+(R?"has-fluid-background":"")});return(0,o.createElement)(l.Fragment,null,R&&(0,o.createElement)(n.BlockControls,null,(0,o.createElement)(a.ToolbarGroup,null,(0,o.createElement)(a.ToolbarButton,{icon:r,label:w?(0,t.__)("Stop Preview","fluid-gradient-block"):(0,t.__)("Live Preview","fluid-gradient-block"),onClick:()=>S(!w),isPressed:w}))),(0,o.createElement)(n.InspectorControls,null,(0,o.createElement)(a.PanelBody,{title:(0,t.__)("Fluid Background","fluid-gradient-block"),initialOpen:!0},(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Enable Fluid Dynamics","fluid-gradient-block"),checked:R,onChange:e=>i({enableFluid:e}),help:R?(0,t.__)("WebGL fluid animation is enabled","fluid-gradient-block"):(0,t.__)("Enable interactive fluid background","fluid-gradient-block")})),R&&(0,o.createElement)(l.Fragment,null,(0,o.createElement)(a.PanelBody,{title:(0,t.__)("Simulation","fluid-gradient-block"),initialOpen:!1},(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Simulation Resolution","fluid-gradient-block"),value:k.simResolution,onChange:e=>F("simResolution",e),min:32,max:256,step:16}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Dye Resolution","fluid-gradient-block"),value:k.dyeResolution,onChange:e=>F("dyeResolution",e),min:256,max:2048,step:128})),(0,o.createElement)(a.PanelBody,{title:(0,t.__)("Behavior","fluid-gradient-block"),initialOpen:!1},(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Density Dissipation","fluid-gradient-block"),value:k.densityDissipation,onChange:e=>F("densityDissipation",e),min:0,max:1,step:.01}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Velocity Dissipation","fluid-gradient-block"),value:k.velocityDissipation,onChange:e=>F("velocityDissipation",e),min:0,max:1,step:.01}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Pressure","fluid-gradient-block"),value:k.pressure,onChange:e=>F("pressure",e),min:0,max:1,step:.05}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Curl (Vorticity)","fluid-gradient-block"),value:k.curl,onChange:e=>F("curl",e),min:0,max:100}),(0,o.createElement)("hr",{style:{margin:"20px 0",borderColor:"#ddd"}}),(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Calm Down Mode","fluid-gradient-block"),checked:k.calmDown,onChange:e=>F("calmDown",e),help:(0,t.__)("Reduce jiggle after period of no input","fluid-gradient-block")}),k.calmDown&&(0,o.createElement)(l.Fragment,null,(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Calm Down Delay (ms)","fluid-gradient-block"),value:null!==(d=k.calmDownDelay)&&void 0!==d?d:2e3,onChange:e=>F("calmDownDelay",e),min:500,max:1e4,step:500,help:(0,t.__)("Time after last input before calming starts","fluid-gradient-block")}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Damping Strength","fluid-gradient-block"),value:null!==(c=k.calmDownStrength)&&void 0!==c?c:.9,onChange:e=>F("calmDownStrength",e),min:.5,max:.99,step:.01,help:(0,t.__)("Lower = faster calming (more damping)","fluid-gradient-block")}))),(0,o.createElement)(a.PanelBody,{title:(0,t.__)("Mouse Input","fluid-gradient-block"),initialOpen:!1},(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Splat Radius","fluid-gradient-block"),value:k.splatRadius,onChange:e=>F("splatRadius",e),min:.05,max:1,step:.05}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Splat Force","fluid-gradient-block"),value:k.splatForce,onChange:e=>F("splatForce",e),min:0,max:5e4,step:500}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Projection Distance","fluid-gradient-block"),value:k.projectionDistance||1,onChange:e=>F("projectionDistance",e),min:.5,max:5,step:.25,help:(0,t.__)("How far colors shoot in mouse direction","fluid-gradient-block")}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Fade Speed","fluid-gradient-block"),value:k.fadeSpeed||1,onChange:e=>F("fadeSpeed",e),min:.1,max:3,step:.1,help:(0,t.__)("How quickly colors fade out (higher = faster)","fluid-gradient-block")})),(0,o.createElement)(a.PanelBody,{title:(0,t.__)("Bloom Effect","fluid-gradient-block"),initialOpen:!1},(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Enable Bloom","fluid-gradient-block"),checked:k.bloom,onChange:e=>F("bloom",e)}),k.bloom&&(0,o.createElement)(l.Fragment,null,(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Bloom Intensity","fluid-gradient-block"),value:k.bloomIntensity,onChange:e=>F("bloomIntensity",e),min:0,max:2,step:.1}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Bloom Threshold","fluid-gradient-block"),value:k.bloomThreshold,onChange:e=>F("bloomThreshold",e),min:0,max:1,step:.05}))),(0,o.createElement)(a.PanelBody,{title:(0,t.__)("Colors","fluid-gradient-block"),initialOpen:!1},(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Color Saturation","fluid-gradient-block"),value:k.colorSaturation,onChange:e=>F("colorSaturation",e),min:0,max:5,step:.1}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Color Brightness","fluid-gradient-block"),value:k.colorBrightness,onChange:e=>F("colorBrightness",e),min:0,max:1,step:.01}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Saturation Boost","fluid-gradient-block"),value:k.saturationBoost||1,onChange:e=>F("saturationBoost",e),min:1,max:3,step:.1,help:(0,t.__)("Boost saturation for more vivid colors","fluid-gradient-block")}),(0,o.createElement)(a.SelectControl,{label:(0,t.__)("Color Mode","fluid-gradient-block"),value:k.colorMode||"rainbow",options:[{label:"Full Rainbow (Random)",value:"rainbow"},{label:"Limited Hue Range",value:"huerange"},{label:"Smooth Gradient",value:"gradient"},{label:"Single Color",value:"single"}],onChange:e=>{i({fluidSettings:{...k,colorMode:e,rainbowMode:"single"!==e}})}}),("rainbow"===k.colorMode||"huerange"===k.colorMode||!k.colorMode)&&(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Color Change Distance","fluid-gradient-block"),value:k.colorChangeDistance||0,onChange:e=>F("colorChangeDistance",e),min:0,max:500,step:10,help:(0,t.__)("Pixels to move before new color (0 = every frame)","fluid-gradient-block")}),"huerange"===k.colorMode&&(0,o.createElement)(l.Fragment,null,(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Hue Min (°)","fluid-gradient-block"),value:null!==(u=k.hueMin)&&void 0!==u?u:0,onChange:e=>F("hueMin",e),min:0,max:360,step:5,help:(0,t.__)("0=Red, 60=Yellow, 120=Green, 180=Cyan, 240=Blue, 300=Magenta","fluid-gradient-block")}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Hue Max (°)","fluid-gradient-block"),value:null!==(s=k.hueMax)&&void 0!==s?s:360,onChange:e=>F("hueMax",e),min:0,max:360,step:5})),"gradient"===k.colorMode&&(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Gradient Speed","fluid-gradient-block"),value:null!==(g=k.gradientSpeed)&&void 0!==g?g:.5,onChange:e=>F("gradientSpeed",e),min:.01,max:10,step:.01,help:(0,t.__)("How fast colors shift through the spectrum","fluid-gradient-block")}),"single"===k.colorMode&&(0,o.createElement)("div",{className:"components-base-control"},(0,o.createElement)("label",{className:"components-base-control__label"},(0,t.__)("Fixed Color","fluid-gradient-block")),(0,o.createElement)("input",{type:"color",value:k.fixedColor||"#ff00ff",onChange:e=>F("fixedColor",e.target.value),style:{width:"100%",height:"36px",cursor:"pointer"}})),(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Prevent Overblending","fluid-gradient-block"),checked:k.preventOverblending,onChange:e=>F("preventOverblending",e),help:(0,t.__)("Clamps max color intensity to prevent white-out","fluid-gradient-block")}),k.preventOverblending&&(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Max Color Intensity","fluid-gradient-block"),value:k.maxColorIntensity||1,onChange:e=>F("maxColorIntensity",e),min:.5,max:2,step:.1}),(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Dark Fluid Mode","fluid-gradient-block"),checked:k.darkMode,onChange:e=>F("darkMode",e),help:(0,t.__)("Creates dark fluid effect (use with light background)","fluid-gradient-block")}),(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Hide Cursor","fluid-gradient-block"),checked:k.hideCursor,onChange:e=>F("hideCursor",e),help:(0,t.__)("Hides the mouse cursor when hovering over the block","fluid-gradient-block")})),(0,o.createElement)(a.PanelBody,{title:(0,t.__)("Blend Mode","fluid-gradient-block"),initialOpen:!1},(0,o.createElement)(a.SelectControl,{label:(0,t.__)("Canvas Blend Mode","fluid-gradient-block"),value:k.blendMode||"normal",options:[{label:"Normal",value:"normal"},{label:"Multiply",value:"multiply"},{label:"Screen",value:"screen"},{label:"Overlay",value:"overlay"},{label:"Darken",value:"darken"},{label:"Lighten",value:"lighten"},{label:"Color Dodge",value:"color-dodge"},{label:"Color Burn",value:"color-burn"},{label:"Hard Light",value:"hard-light"},{label:"Soft Light",value:"soft-light"},{label:"Difference",value:"difference"},{label:"Exclusion",value:"exclusion"},{label:"Hue",value:"hue"},{label:"Saturation",value:"saturation"},{label:"Color",value:"color"},{label:"Luminosity",value:"luminosity"}],onChange:e=>F("blendMode",e)}),(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Negative Bloom","fluid-gradient-block"),checked:k.negativeBloom,onChange:e=>F("negativeBloom",e),help:(0,t.__)("Inverts colors for a dark glow effect","fluid-gradient-block")})),(0,o.createElement)(a.PanelBody,{title:(0,t.__)("Element Interaction","fluid-gradient-block"),initialOpen:!1},(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Enable Element Interaction","fluid-gradient-block"),checked:D.enabled,onChange:e=>y("enabled",e),help:(0,t.__)("Allow DOM elements to interact with fluid","fluid-gradient-block")}),D.enabled&&(0,o.createElement)(l.Fragment,null,(0,o.createElement)(a.TextControl,{label:(0,t.__)("CSS Selectors","fluid-gradient-block"),value:D.selectors||"",onChange:e=>y("selectors",e),placeholder:".my-class, #my-id",help:(0,t.__)("Comma-separated CSS selectors for interacting elements","fluid-gradient-block")}),(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Track on Scroll","fluid-gradient-block"),checked:D.trackScroll,onChange:e=>y("trackScroll",e),help:(0,t.__)("Update element positions on page scroll","fluid-gradient-block")}),(0,o.createElement)(a.SelectControl,{label:(0,t.__)("Interaction Mode","fluid-gradient-block"),value:D.mode||"hardCorner",options:[{label:"Hard Corner (Blocks fluid)",value:"hardCorner"},{label:"Soft Edge (Gradual fade)",value:"softEdge"},{label:"Force Field (Repels fluid)",value:"forceField"},{label:"Attract Field (Pulls fluid)",value:"attractField"},{label:"Turbulence (Creates swirls)",value:"turbulence"}],onChange:e=>y("mode",e)}),"softEdge"===D.mode&&(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Soft Edge Radius","fluid-gradient-block"),value:null!==(m=D.softEdgeRadius)&&void 0!==m?m:20,onChange:e=>y("softEdgeRadius",e),min:5,max:100,step:5,help:(0,t.__)("Fade distance in pixels","fluid-gradient-block")}),"forceField"===D.mode&&(0,o.createElement)(l.Fragment,null,(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Force Strength","fluid-gradient-block"),value:null!==(f=D.forceFieldStrength)&&void 0!==f?f:50,onChange:e=>y("forceFieldStrength",e),min:10,max:200,step:10}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Force Radius","fluid-gradient-block"),value:null!==(b=D.forceFieldRadius)&&void 0!==b?b:80,onChange:e=>y("forceFieldRadius",e),min:20,max:300,step:10,help:(0,t.__)("Distance of force effect in pixels","fluid-gradient-block")})),"attractField"===D.mode&&(0,o.createElement)(l.Fragment,null,(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Attract Strength","fluid-gradient-block"),value:null!==(h=D.attractFieldStrength)&&void 0!==h?h:50,onChange:e=>y("attractFieldStrength",e),min:10,max:200,step:10}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Attract Radius","fluid-gradient-block"),value:null!==(p=D.attractFieldRadius)&&void 0!==p?p:80,onChange:e=>y("attractFieldRadius",e),min:20,max:300,step:10})),"turbulence"===D.mode&&(0,o.createElement)(l.Fragment,null,(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Turbulence Intensity","fluid-gradient-block"),value:null!==(_=D.turbulenceIntensity)&&void 0!==_?_:30,onChange:e=>y("turbulenceIntensity",e),min:5,max:100,step:5}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Turbulence Scale","fluid-gradient-block"),value:null!==(E=D.turbulenceScale)&&void 0!==E?E:50,onChange:e=>y("turbulenceScale",e),min:10,max:200,step:10})),(0,o.createElement)("hr",{style:{margin:"20px 0",borderColor:"#ddd"}}),(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Affect New Splats","fluid-gradient-block"),checked:!1!==D.affectNewSplats,onChange:e=>y("affectNewSplats",e),help:(0,t.__)("Apply effects to new fluid being created","fluid-gradient-block")}),(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Affect Existing Fluid","fluid-gradient-block"),checked:D.affectExistingFluid,onChange:e=>y("affectExistingFluid",e),help:(0,t.__)("Apply effects to fluid already on canvas","fluid-gradient-block")}),(0,o.createElement)("hr",{style:{margin:"20px 0",borderColor:"#ddd"}}),(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Edge Glow","fluid-gradient-block"),checked:D.edgeGlow,onChange:e=>y("edgeGlow",e),help:(0,t.__)("Add a color glow around element edges","fluid-gradient-block")}),D.edgeGlow&&(0,o.createElement)(l.Fragment,null,(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Glow Intensity","fluid-gradient-block"),value:null!==(v=D.edgeGlowIntensity)&&void 0!==v?v:.5,onChange:e=>y("edgeGlowIntensity",e),min:.1,max:2,step:.1}),(0,o.createElement)(a.RangeControl,{label:(0,t.__)("Glow Distance","fluid-gradient-block"),value:null!==(C=D.edgeGlowDistance)&&void 0!==C?C:15,onChange:e=>y("edgeGlowDistance",e),min:5,max:50,step:5}),(0,o.createElement)(a.ToggleControl,{label:(0,t.__)("Match Fluid Colors","fluid-gradient-block"),checked:D.edgeGlowMatchFluid,onChange:e=>y("edgeGlowMatchFluid",e)}),!D.edgeGlowMatchFluid&&(0,o.createElement)("div",{className:"components-base-control"},(0,o.createElement)("label",{className:"components-base-control__label"},(0,t.__)("Glow Color","fluid-gradient-block")),(0,o.createElement)("input",{type:"color",value:D.edgeGlowColor||"#ffffff",onChange:e=>y("edgeGlowColor",e.target.value),style:{width:"100%",height:"36px",cursor:"pointer"}}))))))),(0,o.createElement)("div",{...M},R&&w&&(0,o.createElement)("canvas",{ref:T,className:"fgb-fluid-canvas fgb-editor-canvas",style:{mixBlendMode:k.blendMode||"normal",filter:k.negativeBloom?"invert(1)":"none"}}),R&&!w&&(0,o.createElement)("div",{className:"fgb-fluid-preview"},(0,o.createElement)("span",null,(0,t.__)("Fluid Background Active (Click eye icon for preview)","fluid-gradient-block"))),(0,o.createElement)(n.InnerBlocks,{templateLock:!1,renderAppender:n.InnerBlocks.DefaultBlockAppender})))},save:function({attributes:e}){const{enableFluid:t,fluidSettings:a,tagName:o}=e,r=o||"div",i=n.useBlockProps.save({className:"fgb-fluid-group "+(t?"has-fluid-background":""),"data-fluid-enabled":t?"true":"false","data-fluid-settings":t?JSON.stringify(a):void 0});return(0,l.createElement)(r,{...i},t&&(0,l.createElement)("canvas",{className:"fgb-fluid-canvas"}),(0,l.createElement)("div",{className:"fgb-fluid-content"},(0,l.createElement)(n.InnerBlocks.Content,null)))}})})();