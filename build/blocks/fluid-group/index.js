(()=>{"use strict";const e=window.wp.blocks,t=window.React,l=window.wp.i18n,o=window.wp.blockEditor,i=window.wp.components,n=window.wp.element,a=[{label:"Default",value:"default"},{label:"Dreamy",value:"dreamy"},{label:"Intense",value:"intense"},{label:"Smoke",value:"smoke"},{label:"Water",value:"water"},{label:"Fire",value:"fire"},{label:"Black on White",value:"blackonwhite"},{label:"Neon",value:"neon"}],r={default:{simResolution:128,dyeResolution:1024,densityDissipation:.97,velocityDissipation:.98,pressure:.8,curl:30,splatRadius:.25,splatForce:6e3,bloom:!0,bloomIntensity:.8,bloomThreshold:.6,colorSaturation:1,colorBrightness:.15,rainbowMode:!0,darkMode:!1},dreamy:{simResolution:64,dyeResolution:512,densityDissipation:.99,velocityDissipation:.995,pressure:.6,curl:5,splatRadius:.5,splatForce:3e3,bloom:!0,bloomIntensity:1.5,bloomThreshold:.3,colorSaturation:1,colorBrightness:.15,rainbowMode:!0,darkMode:!1},intense:{simResolution:256,dyeResolution:2048,densityDissipation:.94,velocityDissipation:.95,pressure:.9,curl:80,splatRadius:.15,splatForce:15e3,bloom:!0,bloomIntensity:1.2,bloomThreshold:.4,colorSaturation:1,colorBrightness:.15,rainbowMode:!0,darkMode:!1},smoke:{simResolution:128,dyeResolution:1024,densityDissipation:.995,velocityDissipation:.99,pressure:.7,curl:10,splatRadius:.4,splatForce:4e3,bloom:!0,bloomIntensity:.5,bloomThreshold:.7,colorSaturation:1,colorBrightness:.15,rainbowMode:!0,darkMode:!1},water:{simResolution:128,dyeResolution:1024,densityDissipation:.98,velocityDissipation:.96,pressure:.9,curl:40,splatRadius:.3,splatForce:8e3,bloom:!0,bloomIntensity:.6,bloomThreshold:.5,colorSaturation:1,colorBrightness:.15,rainbowMode:!0,darkMode:!1},fire:{simResolution:128,dyeResolution:1024,densityDissipation:.92,velocityDissipation:.94,pressure:.5,curl:60,splatRadius:.2,splatForce:1e4,bloom:!0,bloomIntensity:1.8,bloomThreshold:.2,colorSaturation:1,colorBrightness:.15,rainbowMode:!0,darkMode:!1},blackonwhite:{simResolution:128,dyeResolution:1024,densityDissipation:.97,velocityDissipation:.98,pressure:.8,curl:30,splatRadius:.25,splatForce:6e3,bloom:!1,bloomIntensity:.5,bloomThreshold:.6,colorSaturation:1,colorBrightness:.15,rainbowMode:!0,darkMode:!0},neon:{simResolution:128,dyeResolution:1024,densityDissipation:.95,velocityDissipation:.97,pressure:.8,curl:40,splatRadius:.3,splatForce:8e3,bloom:!0,bloomIntensity:2,bloomThreshold:.2,colorSaturation:1,colorBrightness:.25,rainbowMode:!0,darkMode:!1}},s=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"fgb/fluid-group","version":"1.0.0","title":"Fluid Gradient Group","category":"design","icon":"slides","description":"A container block with optional WebGL fluid dynamics background.","keywords":["fluid","gradient","animation","group","container","webgl"],"textdomain":"fluid-gradient-block","attributes":{"enableFluid":{"type":"boolean","default":false},"fluidSettings":{"type":"object","default":{"preset":"default","simResolution":128,"dyeResolution":1024,"densityDissipation":0.97,"velocityDissipation":0.98,"pressure":0.8,"curl":30,"splatRadius":0.25,"splatForce":6000,"bloom":true,"bloomIntensity":0.8,"bloomThreshold":0.6,"colorSaturation":1,"colorBrightness":0.15,"rainbowMode":true,"darkMode":false}},"tagName":{"type":"string","default":"div"},"minHeight":{"type":"string"},"backgroundColor":{"type":"string"}},"supports":{"anchor":true,"align":["wide","full"],"html":false,"background":{"backgroundImage":true,"backgroundSize":true},"color":{"gradients":true,"heading":true,"button":true,"link":true,"text":true,"background":true},"spacing":{"margin":true,"padding":true,"blockGap":true},"dimensions":{"minHeight":true},"position":{"sticky":true},"typography":{"fontSize":true,"lineHeight":true},"layout":{"allowSizingOnChildren":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true}},"editorScript":"file:./index.js","editorStyle":"file:./editor.css","style":"file:./style.css","viewScript":"file:./view.js"}');(0,e.registerBlockType)(s.name,{...s,edit:function({attributes:e,setAttributes:s}){const{enableFluid:d,fluidSettings:u}=e,[c,m]=(0,n.useState)(""),[g,b]=(0,n.useState)(!1),p=(e,t)=>{s({fluidSettings:{...u,[e]:t}})},f=(0,o.useBlockProps)({className:"fgb-fluid-group "+(d?"has-fluid-background":"")}),k=(0,o.useInnerBlocksProps)(f,{templateLock:!1,renderAppender:o.InnerBlocks.DefaultBlockAppender});return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(i.PanelBody,{title:(0,l.__)("Fluid Background","fluid-gradient-block"),initialOpen:!0},(0,t.createElement)(i.ToggleControl,{label:(0,l.__)("Enable Fluid Dynamics","fluid-gradient-block"),checked:d,onChange:e=>s({enableFluid:e}),help:d?(0,l.__)("WebGL fluid animation is enabled","fluid-gradient-block"):(0,l.__)("Enable interactive fluid background","fluid-gradient-block")})),d&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(i.PanelBody,{title:(0,l.__)("Presets","fluid-gradient-block"),initialOpen:!1},(0,t.createElement)(i.SelectControl,{label:(0,l.__)("Choose Preset","fluid-gradient-block"),value:u.preset||"default",options:a,onChange:e=>(e=>{const t=r[e];t&&s({fluidSettings:{...u,...t,preset:e}})})(e)})),(0,t.createElement)(i.PanelBody,{title:(0,l.__)("Simulation","fluid-gradient-block"),initialOpen:!1},(0,t.createElement)(i.RangeControl,{label:(0,l.__)("Simulation Resolution","fluid-gradient-block"),value:u.simResolution,onChange:e=>p("simResolution",e),min:32,max:256,step:16}),(0,t.createElement)(i.RangeControl,{label:(0,l.__)("Dye Resolution","fluid-gradient-block"),value:u.dyeResolution,onChange:e=>p("dyeResolution",e),min:256,max:2048,step:128})),(0,t.createElement)(i.PanelBody,{title:(0,l.__)("Behavior","fluid-gradient-block"),initialOpen:!1},(0,t.createElement)(i.RangeControl,{label:(0,l.__)("Density Dissipation","fluid-gradient-block"),value:u.densityDissipation,onChange:e=>p("densityDissipation",e),min:.9,max:1,step:.005}),(0,t.createElement)(i.RangeControl,{label:(0,l.__)("Velocity Dissipation","fluid-gradient-block"),value:u.velocityDissipation,onChange:e=>p("velocityDissipation",e),min:.9,max:1,step:.005}),(0,t.createElement)(i.RangeControl,{label:(0,l.__)("Pressure","fluid-gradient-block"),value:u.pressure,onChange:e=>p("pressure",e),min:0,max:1,step:.05}),(0,t.createElement)(i.RangeControl,{label:(0,l.__)("Curl (Vorticity)","fluid-gradient-block"),value:u.curl,onChange:e=>p("curl",e),min:0,max:100})),(0,t.createElement)(i.PanelBody,{title:(0,l.__)("Mouse Input","fluid-gradient-block"),initialOpen:!1},(0,t.createElement)(i.RangeControl,{label:(0,l.__)("Splat Radius","fluid-gradient-block"),value:u.splatRadius,onChange:e=>p("splatRadius",e),min:.05,max:1,step:.05}),(0,t.createElement)(i.RangeControl,{label:(0,l.__)("Splat Force","fluid-gradient-block"),value:u.splatForce,onChange:e=>p("splatForce",e),min:1e3,max:2e4,step:500})),(0,t.createElement)(i.PanelBody,{title:(0,l.__)("Bloom Effect","fluid-gradient-block"),initialOpen:!1},(0,t.createElement)(i.ToggleControl,{label:(0,l.__)("Enable Bloom","fluid-gradient-block"),checked:u.bloom,onChange:e=>p("bloom",e)}),u.bloom&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(i.RangeControl,{label:(0,l.__)("Bloom Intensity","fluid-gradient-block"),value:u.bloomIntensity,onChange:e=>p("bloomIntensity",e),min:0,max:2,step:.1}),(0,t.createElement)(i.RangeControl,{label:(0,l.__)("Bloom Threshold","fluid-gradient-block"),value:u.bloomThreshold,onChange:e=>p("bloomThreshold",e),min:0,max:1,step:.05}))),(0,t.createElement)(i.PanelBody,{title:(0,l.__)("Colors","fluid-gradient-block"),initialOpen:!1},(0,t.createElement)(i.RangeControl,{label:(0,l.__)("Color Saturation","fluid-gradient-block"),value:u.colorSaturation,onChange:e=>p("colorSaturation",e),min:0,max:1,step:.05}),(0,t.createElement)(i.RangeControl,{label:(0,l.__)("Color Brightness","fluid-gradient-block"),value:u.colorBrightness,onChange:e=>p("colorBrightness",e),min:.05,max:.5,step:.01}),(0,t.createElement)(i.ToggleControl,{label:(0,l.__)("Rainbow Mode","fluid-gradient-block"),checked:u.rainbowMode,onChange:e=>p("rainbowMode",e)}),(0,t.createElement)(i.ToggleControl,{label:(0,l.__)("Dark Fluid Mode","fluid-gradient-block"),checked:u.darkMode,onChange:e=>p("darkMode",e),help:(0,l.__)("Creates dark fluid effect (use with light background)","fluid-gradient-block")})),(0,t.createElement)(i.PanelBody,{title:(0,l.__)("Import / Export","fluid-gradient-block"),initialOpen:!1},(0,t.createElement)(i.Button,{variant:"secondary",onClick:()=>{const e={version:"1.0",fluidSettings:u};navigator.clipboard.writeText(JSON.stringify(e,null,2)),alert((0,l.__)("Settings copied to clipboard!","fluid-gradient-block"))},style:{marginBottom:"10px",width:"100%"}},(0,l.__)("Copy Settings","fluid-gradient-block")),g?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(i.TextareaControl,{label:(0,l.__)("Paste JSON here","fluid-gradient-block"),value:c,onChange:m,rows:4}),(0,t.createElement)("div",{style:{display:"flex",gap:"8px"}},(0,t.createElement)(i.Button,{variant:"primary",onClick:()=>{try{const e=JSON.parse(c);e.fluidSettings?(s({fluidSettings:{...u,...e.fluidSettings}}),b(!1),m("")):alert((0,l.__)("Invalid settings format","fluid-gradient-block"))}catch(e){alert((0,l.__)("Invalid JSON","fluid-gradient-block"))}}},(0,l.__)("Import","fluid-gradient-block")),(0,t.createElement)(i.Button,{variant:"secondary",onClick:()=>{b(!1),m("")}},(0,l.__)("Cancel","fluid-gradient-block")))):(0,t.createElement)(i.Button,{variant:"secondary",onClick:()=>b(!0),style:{width:"100%"}},(0,l.__)("Paste Settings","fluid-gradient-block"))))),(0,t.createElement)("div",{...k},d&&(0,t.createElement)("div",{className:"fgb-fluid-preview"},(0,t.createElement)("span",null,(0,l.__)("Fluid Background Active","fluid-gradient-block")))))},save:function({attributes:e}){const{enableFluid:l,fluidSettings:i,tagName:n}=e,a=n||"div",r=o.useBlockProps.save({className:"fgb-fluid-group "+(l?"has-fluid-background":""),"data-fluid-enabled":l?"true":"false","data-fluid-settings":l?JSON.stringify(i):void 0});return(0,t.createElement)(a,{...r},l&&(0,t.createElement)("canvas",{className:"fgb-fluid-canvas"}),(0,t.createElement)("div",{className:"fgb-fluid-content"},(0,t.createElement)(o.InnerBlocks.Content,null)))}})})();